AvailableGoods пришлось изменить, потому что Иванов....

теперь там два дополнительных поля:
Available_Current (boolean) - это состояние текущих дел или нет.
Available_SnapshotDate - если Available_Current = true, то это поле = null, 
			 иначе это поле показывает какой дате соответсвующее состояние дел.

Update
Еще я забыл дать автоинкремент айдишнику